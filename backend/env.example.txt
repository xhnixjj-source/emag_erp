# ============================================
# 代理配置 (lunaproxy 动态 IP 代理)
# 使用说明：复制此文件为 .env 并根据实际情况修改
# ============================================

# 是否启用代理（true/false）
PROXY_ENABLED=true

# lunaproxy 动态 IP API URL
PROXY_API_URL=https://tq.lunaproxy.com/get_dynamic_ip

# lunaproxy 用户 ID（neek 参数），从 lunaproxy 控制台获取
PROXY_API_USER_ID=1866167

# 代理地区，all 表示全球，可指定如 "ro" 表示罗马尼亚
PROXY_API_COUNTRY=all

# 每次 API 请求获取的 IP 数量
PROXY_API_IP_COUNT=10

# IP 有效期（分钟），lunaproxy 的 ip_si 参数：1-120 分钟
PROXY_API_IP_SI=6

# 分隔符参数，空字符串表示每行一个 IP:PORT
PROXY_API_SB=

# API 刷新间隔（秒），建议 60-120 秒以保持 IP 池新鲜
# 应小于 PROXY_API_IP_SI（IP有效期）换算成秒数
PROXY_API_FETCH_INTERVAL=60

# API 请求超时（秒）
PROXY_API_TIMEOUT=10

# 代理验证超时（秒）
PROXY_VALIDATION_TIMEOUT=5

# 静态代理列表（可选，格式：ip:port,ip:port,...）
# 如果设置了 PROXY_API_URL，会自动从 API 获取，无需手动配置
PROXY_LIST=

# ============================================
# 爬虫配置
# ============================================

# 爬虫延迟（秒）
CRAWLER_DELAY_MIN=1
CRAWLER_DELAY_MAX=3

# 爬虫超时（秒）
CRAWLER_TIMEOUT=60

# 最大重试次数
MAX_RETRY_COUNT=5

# ============================================
# Playwright 配置
# ============================================

# 浏览器类型
PLAYWRIGHT_BROWSER_TYPE=chromium

# 是否无头模式
PLAYWRIGHT_HEADLESS=true

# 超时设置（毫秒）
PLAYWRIGHT_TIMEOUT=30000
PLAYWRIGHT_NAVIGATION_TIMEOUT=30000

# 最大浏览器上下文数量
PLAYWRIGHT_MAX_CONTEXTS=10

# ============================================
# 数据库配置
# ============================================

DATABASE_URL=sqlite:///./emag_erp.db

# ============================================
# 使用说明
# ============================================
# 
# 1. 复制此文件为 .env：cp env.example.txt .env
# 2. 根据实际情况修改配置
# 3. 确保 Proxifier 已配置并运行（见 docs/proxifier_setup_guide.md）
# 4. 启动 VPN 确保海外 IP 出口
# 5. 运行测试脚本验证：python scripts/test_api_proxy_to_emag.py
#

